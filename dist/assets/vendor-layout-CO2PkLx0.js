const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-react-DhQkf-0u.js","assets/vendor-libs-BVVzLCuo.js","assets/vendor-react-BZV40eAE.css"])))=>i.map(i=>d[i]);
import{r as h,j as e,R as be,L,S as se,M as re,a as ye,K as je,b as we,X as Ne,c as Ce,d as Se,G as ke,e as Ee,f as Le,B as Me,U as Te,C as U,u as $e,g as ne,h as De,O as X}from"./vendor-react-DhQkf-0u.js";import{L as P,S as A,D as Pe,a as Ae,b as Ie,c as Fe,B as N,T as ze,d as Re,e as T,f as $,g as ae,h as S,i as k,j as E}from"./vendor-ui-Bk2sRgsZ.js";import{au as Be,av as He}from"./vendor-libs-BVVzLCuo.js";const oe="theme-mode";function le(){return typeof window>"u"?"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function _e(){if(typeof window>"u")return null;try{const t=localStorage.getItem(oe);if(t&&(t==="light"||t==="dark"||t==="system"))return t}catch{}return null}function ie(t){if(!(typeof window>"u"))try{localStorage.setItem(oe,t)}catch{}}function D(t,s){if(typeof document>"u")return;const r=t==="system"?le():t,n=s||document.documentElement;r==="dark"?n.classList.add("dark"):n.classList.remove("dark")}function G(t){return t==="system"?le():t}const ce="layout-config";function Oe(){if(typeof window>"u")return null;try{const t=localStorage.getItem(ce);if(t)return JSON.parse(t)}catch{}return null}function de(t){if(!(typeof window>"u"))try{localStorage.setItem(ce,JSON.stringify(t))}catch{}}function Ge(t,s){const r={...s,mode:t};return de(r),typeof window<"u"&&window.dispatchEvent(new CustomEvent("layout-change",{detail:r})),r}function Ue(t,s){const r={...s,...t};return de(r),typeof window<"u"&&window.dispatchEvent(new CustomEvent("layout-change",{detail:r})),r}function Ve(t){return{mode:t?.mode||"vertical",collapsible:t?.collapsible??!0,collapsed:t?.collapsed??!1}}const ue=h.createContext(null);function We(t,s){switch(s.type){case"SET_THEME":{const r=s.payload;return{...t,theme:r}}case"TOGGLE_THEME":{const r=t.theme;return{...t,theme:r==="light"?"dark":r==="dark"?"system":"light"}}case"SET_LAYOUT_MODE":{const r=Ge(s.payload,t.layout);return{...t,layout:r}}case"UPDATE_LAYOUT":{const r=Ue(s.payload,t.layout);return{...t,layout:r}}case"REFRESH":return{...t,refresh:t.refresh+1};case"RESET":return s.payload;default:return t}}function Q(t,s){const r=_e(),n=Oe(),a=t?.theme||r||"system";return typeof window<"u"&&t?.theme&&s&&ie(t.theme),{theme:a,layout:n||Ve(t?.layout),refresh:0}}function Ke({children:t,initial:s,persistTheme:r,themeRoot:n,onThemeChange:a,onLayoutChange:l}){const d=()=>typeof n=="function"?n():n,[o,f]=h.useReducer(We,null,()=>Q(s,r)),c=h.useRef(Q(s,r)),x=h.useRef(o.theme);h.useEffect(()=>{D(o.theme,d())},[o.theme,n]),h.useEffect(()=>{D(o.theme,d())}),h.useEffect(()=>{if(x.current!==o.theme&&(x.current=o.theme,ie(o.theme),D(o.theme,d()),typeof window<"u"&&window.dispatchEvent(new CustomEvent("theme-change",{detail:{theme:o.theme}})),a)){const m=G(o.theme);a(m)}},[o.theme,a]),h.useEffect(()=>{if(o.theme!=="system")return;const m=window.matchMedia("(prefers-color-scheme: dark)"),v=()=>{if(D("system",d()),window.dispatchEvent(new CustomEvent("theme-change",{detail:{theme:"system"}})),a){const p=G("system");a(p)}};return m.addEventListener("change",v),()=>m.removeEventListener("change",v)},[o.theme,a]),h.useEffect(()=>{o.layout!==c.current.layout&&(typeof window<"u"&&window.dispatchEvent(new CustomEvent("layout-change",{detail:o.layout})),l&&l(o.layout))},[o.layout,l]);const u={state:o,dispatch:f};return e.jsx(ue.Provider,{value:u,children:t})}function I(){const t=h.useContext(ue);if(!t)throw new Error("Store hooks must be used within StoreProvider");return t}function he(){const{state:t,dispatch:s}=I(),r=h.useCallback(l=>{console.log("set",t,l),s({type:"SET_THEME",payload:l})},[s]),n=h.useCallback(()=>{s({type:"TOGGLE_THEME"})},[s]),a=h.useCallback(()=>G(t.theme),[t.theme]);return{theme:t.theme,set:r,toggle:n,getEffective:a}}function C(){const{state:t,dispatch:s}=I(),r=h.useCallback(a=>{s({type:"SET_LAYOUT_MODE",payload:a})},[s]),n=h.useCallback(a=>{s({type:"UPDATE_LAYOUT",payload:a})},[s]);return{mode:t.layout.mode,collapsible:t.layout.collapsible,collapsed:t.layout.collapsed,config:t.layout,setMode:r,update:n}}function xe(){const{state:t,dispatch:s}=I(),r=h.useCallback(()=>{s({type:"REFRESH"})},[s]);return{key:t.refresh,refresh:r}}function Ye(){const{dispatch:t}=I();return h.useCallback(r=>{t({type:"RESET",payload:{theme:r?.theme||"system",layout:r?.layout||{mode:"vertical",collapsible:!0,collapsed:!1},refresh:0}})},[t])}function qe({name:t,error:s}){return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 p-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-destructive",children:"Component Load Failed"}),e.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:['Error loading component "',t,'"']}),s&&e.jsx("pre",{className:"mt-3 overflow-auto rounded bg-muted p-3 text-xs",children:s.message})]})})}class Lt extends be.Component{constructor(s){super(s),this.state={}}static getDerivedStateFromError(s){return{error:s}}componentDidCatch(){}render(){return this.state.error?e.jsx(qe,{name:this.props.name,error:this.state.error}):this.props.children}}function F({mode:t="vertical",header:s,sidebar:r,content:n,children:a,className:l=""}){return t==="fullscreen"?e.jsx("div",{className:`min-h-screen bg-background overflow-auto ${l}`,children:n||a}):e.jsxs("div",{className:`min-h-screen bg-background ${l}`,children:[s,e.jsxs("div",{className:"flex",children:[r,n||a]})]})}function V({logo:t,actions:s,children:r,className:n=""}){return e.jsx("header",{className:`fixed top-0 left-0 right-0 bg-sidebar border-b border-sidebar-border shadow-sm ${n}`,style:{zIndex:100,height:"56px"},children:e.jsxs("div",{className:"flex items-center justify-between h-full px-4 gap-4",children:[e.jsx("div",{className:"flex items-center gap-3",children:t}),r&&e.jsx("div",{className:"flex-1 flex items-center justify-center",children:r}),e.jsx("div",{className:"flex items-center gap-1",children:s})]})})}function me({collapsed:t=!1,width:s=220,collapsedWidth:r=64,showTop:n=!0,footer:a,children:l,className:d=""}){const o=t?r:s;return e.jsxs("aside",{className:`absolute left-0 bottom-0 z-30 border-r border-sidebar-border bg-sidebar overflow-hidden transition-all duration-300 ${d}`,style:{width:`${o}px`,top:n?"56px":"0"},children:[e.jsx("div",{className:`py-4 overflow-y-auto h-full px-2 ${a?"pb-14":""}`,children:l}),a&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-sidebar",children:a})]})}function W({marginLeft:t=0,marginTop:s,showTop:r=!0,children:n,className:a=""}){const l=s!==void 0?s:r?56:0;return e.jsx("main",{className:`flex-1 bg-background transition-all duration-300 ${a}`,style:{marginLeft:`${t}px`,marginTop:`${l}px`,minHeight:`calc(100vh - ${l}px)`},children:n})}const Je={sm:{box:"h-6 w-6",icon:"h-3.5 w-3.5",text:"text-sm"},md:{box:"h-9 w-9",icon:"h-5 w-5",text:"text-base"},lg:{box:"h-12 w-12",icon:"h-7 w-7",text:"text-lg"}};function z({size:t="md",showText:s=!0,text:r="MSPBots",className:n=""}){const a=Je[t];return e.jsxs(L,{to:"/",className:`flex items-center gap-2 ${n}`,children:[e.jsx("div",{className:`${a.box} flex items-center justify-center rounded-lg bg-primary text-primary-foreground shadow-md hover:shadow-lg transition-shadow`,children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:a.icon,children:[e.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),e.jsx("path",{d:"M2 17l10 5 10-5"}),e.jsx("path",{d:"M2 12l10 5 10-5"})]})}),s&&e.jsx("span",{className:`font-bold text-sidebar-foreground ${a.text}`,children:r})]})}const Xe={header:{label:"Header",description:"Top navigation bar, suitable for simple applications",icon:"LayoutGrid"},vertical:{label:"Vertical",description:"Full-height sidebar menu with header in content area only",icon:"LayoutDashboard"},"double-column":{label:"Double Column",description:"Two-column menu design, clearly displays multi-level navigation",icon:"Columns"},"header-vertical":{label:"Header Vertical",description:"Full-width header at top with sidebar menu below",icon:"PanelTop"},"mixed-vertical":{label:"Mixed Vertical",description:"Combined top and side layout, flexible navigation organization",icon:"LayoutPanelTop"},"mixed-double":{label:"Mixed Double",description:"Top bar with double-column menu, ideal for complex applications",icon:"LayoutPanelLeft"},fullscreen:{label:"Fullscreen",description:"No menu bar, suitable for presentation pages",icon:"Maximize"}},Qe={vertical:e.jsxs("svg",{viewBox:"0 0 80 60",className:"h-full w-full",children:[e.jsx("rect",{x:"2",y:"2",width:"18",height:"56",className:"fill-primary",opacity:"0.7",rx:"2"}),e.jsx("rect",{x:"24",y:"2",width:"54",height:"56",fill:"currentColor",opacity:"0.08",rx:"2"})]}),"double-column":e.jsxs("svg",{viewBox:"0 0 80 60",className:"h-full w-full",children:[e.jsx("rect",{x:"2",y:"2",width:"12",height:"56",className:"fill-primary",opacity:"0.7",rx:"2"}),e.jsx("rect",{x:"18",y:"2",width:"14",height:"56",className:"fill-primary",opacity:"0.5",rx:"2"}),e.jsx("rect",{x:"36",y:"2",width:"42",height:"56",fill:"currentColor",opacity:"0.08",rx:"2"})]}),header:e.jsxs("svg",{viewBox:"0 0 80 60",className:"h-full w-full",children:[e.jsx("rect",{x:"2",y:"2",width:"76",height:"12",className:"fill-primary",opacity:"0.7",rx:"2"}),e.jsx("rect",{x:"2",y:"18",width:"76",height:"40",fill:"currentColor",opacity:"0.08",rx:"2"})]}),"header-vertical":e.jsxs("svg",{viewBox:"0 0 80 60",className:"h-full w-full",children:[e.jsx("rect",{x:"2",y:"2",width:"10",height:"56",className:"fill-primary",opacity:"0.7",rx:"2"}),e.jsx("rect",{x:"16",y:"2",width:"62",height:"56",fill:"currentColor",opacity:"0.08",rx:"2"})]}),"mixed-vertical":e.jsxs("svg",{viewBox:"0 0 80 60",className:"h-full w-full",children:[e.jsx("rect",{x:"2",y:"2",width:"76",height:"10",className:"fill-primary",opacity:"0.5",rx:"2"}),e.jsx("rect",{x:"2",y:"16",width:"18",height:"42",className:"fill-primary",opacity:"0.7",rx:"2"}),e.jsx("rect",{x:"24",y:"16",width:"54",height:"42",fill:"currentColor",opacity:"0.08",rx:"2"})]}),"mixed-double":e.jsxs("svg",{viewBox:"0 0 80 60",className:"h-full w-full",children:[e.jsx("rect",{x:"2",y:"2",width:"76",height:"10",className:"fill-primary",opacity:"0.5",rx:"2"}),e.jsx("rect",{x:"2",y:"16",width:"12",height:"42",className:"fill-primary",opacity:"0.7",rx:"2"}),e.jsx("rect",{x:"18",y:"16",width:"14",height:"42",className:"fill-primary",opacity:"0.5",rx:"2"}),e.jsx("rect",{x:"36",y:"16",width:"42",height:"42",fill:"currentColor",opacity:"0.08",rx:"2"})]}),fullscreen:e.jsx("svg",{viewBox:"0 0 80 60",className:"h-full w-full",children:e.jsx("rect",{x:"2",y:"2",width:"76",height:"56",fill:"currentColor",opacity:"0.08",rx:"2"})})};function Ze({selectedMode:t,onSelectMode:s}){const r=["vertical","double-column","header","header-vertical","mixed-vertical","mixed-double","fullscreen"];return e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-medium text-foreground",children:"Layout"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:r.map(n=>{const a=Xe[n],l=t===n;return e.jsxs("button",{onClick:()=>s(n),className:"flex flex-col items-center gap-2.5 p-2 transition-all duration-200 group",title:a.description,children:[e.jsxs("div",{className:`
                relative w-full aspect-[4/3] rounded border-2 bg-muted/30 flex items-center justify-center p-2 transition-all duration-300 overflow-hidden
                ${l?"border-primary":"border-border"}
              `,children:[!l&&e.jsx("div",{className:"absolute inset-0 border-2 border-primary rounded scale-0 group-hover:scale-100 transition-transform duration-300 origin-center"}),e.jsx("div",{className:"relative z-10 w-full h-full flex items-center justify-center text-muted-foreground/60",children:Qe[n]})]}),e.jsx("span",{className:"text-xs text-foreground text-center leading-tight",children:a.label})]},n)})})]})}function et({config:t,onUpdateConfig:s}){return e.jsxs("div",{className:"space-y-4 pt-8",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Sidebar Options"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsx(P,{htmlFor:"collapsible",className:"text-sm font-normal cursor-pointer",children:"Collapsible Sidebar"}),e.jsx(A,{id:"collapsible",checked:t.collapsible,onCheckedChange:r=>s({collapsible:r})})]}),t.collapsible&&e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsx(P,{htmlFor:"defaultCollapsed",className:"text-sm font-normal cursor-pointer",children:"Default Collapsed"}),e.jsx(A,{id:"defaultCollapsed",checked:t.defaultCollapsed,onCheckedChange:r=>s({defaultCollapsed:r})})]})]})]})}function tt(){const{theme:t,set:s}=he(),[r,n]=h.useState(!1),[a,l]=h.useState(!1),d=[{value:"light",label:"Light",icon:se},{value:"dark",label:"Dark",icon:re},{value:"system",label:"Follow System",icon:ye}];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-medium text-foreground",children:"Theme"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:d.map(o=>{const f=o.icon,c=t===o.value;return e.jsxs("button",{onClick:()=>s(o.value),className:"flex flex-col items-center gap-2.5 p-2 transition-all duration-200 group",children:[e.jsxs("div",{className:`
                  relative w-full h-14 rounded border-2 bg-muted/30 flex items-center justify-center transition-all duration-300 overflow-hidden
                  ${c?"border-primary":"border-border"}
                `,children:[!c&&e.jsx("div",{className:"absolute inset-0 border-2 border-primary rounded scale-0 group-hover:scale-100 transition-transform duration-300 origin-center"}),e.jsx(f,{className:"h-5 w-5 text-muted-foreground/60 relative z-10"})]}),e.jsx("span",{className:"text-xs text-foreground",children:o.label})]},o.value)})})]}),e.jsxs("div",{className:"space-y-3 pt-2",children:[e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsx(P,{htmlFor:"semiDarkSidebar",className:"text-sm font-normal cursor-pointer",children:"Semi Dark Sidebar"}),e.jsx(A,{id:"semiDarkSidebar",checked:r,onCheckedChange:n})]}),e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsx(P,{htmlFor:"semiDarkHeader",className:"text-sm font-normal cursor-pointer",children:"Semi Dark Header"}),e.jsx(A,{id:"semiDarkHeader",checked:a,onCheckedChange:l})]})]})]})}function st(){return e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-lg bg-muted/50 mb-4",children:e.jsx(je,{className:"h-8 w-8 text-muted-foreground/60"})}),e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Keyboard Shortcuts"}),e.jsx("p",{className:"text-xs text-muted-foreground/60 text-center max-w-xs",children:"Shortcut customization features are coming soon"})]})}function rt(){return e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-lg bg-muted/50 mb-4",children:e.jsx(we,{className:"h-8 w-8 text-muted-foreground/60"})}),e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-2",children:"General Settings"}),e.jsx("p",{className:"text-xs text-muted-foreground/60 text-center max-w-xs",children:"Language, timezone, and notification settings are coming soon"})]})}const nt=["vertical","header-vertical","mixed-vertical"];function at({open:t,onOpenChange:s,initial:r}){const{mode:n,config:a,setMode:l,update:d}=C();Ye();const o=nt.includes(n);return e.jsx(Pe,{open:t,onOpenChange:s,direction:"right",children:e.jsxs(Ae,{className:"h-full w-full sm:w-[500px] sm:max-w-[90vw]",children:[e.jsx(Ie,{className:"border-b px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Fe,{className:"text-base font-semibold",children:"Preferences"}),e.jsx(N,{variant:"ghost",size:"icon",onClick:()=>s(!1),className:"h-8 w-8",children:e.jsx(Ne,{className:"h-4 w-4"})})]})}),e.jsxs(ze,{defaultValue:"appearance",className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx("div",{className:"p-3",children:e.jsxs(Re,{className:"flex w-full h-auto p-0.5 bg-muted rounded-md gap-0.5",children:[e.jsx(T,{value:"appearance",className:"flex-1 rounded-sm py-1 text-[13px]",children:"Appearance"}),e.jsx(T,{value:"layout",className:"flex-1 rounded-sm py-1 text-[13px]",children:"Layout"}),e.jsx(T,{value:"shortcuts",className:"flex-1 rounded-sm py-1 text-[13px]",children:"Shortcuts"}),e.jsx(T,{value:"general",className:"flex-1 rounded-sm py-1 text-[13px]",children:"General"})]})}),e.jsx($,{value:"appearance",className:"flex-1 overflow-y-auto px-6 py-6 mt-0",children:e.jsx(tt,{})}),e.jsx($,{value:"layout",className:"flex-1 overflow-y-auto px-6 py-6 mt-0",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(Ze,{selectedMode:n,onSelectMode:l}),o&&e.jsx(et,{config:a,onUpdateConfig:d})]})}),e.jsx($,{value:"shortcuts",className:"flex-1 overflow-y-auto px-6 py-6 mt-0",children:e.jsx(st,{})}),e.jsx($,{value:"general",className:"flex-1 overflow-y-auto px-6 py-6 mt-0",children:e.jsx(rt,{})})]})]})})}function ot({onRefresh:t,className:s=""}){const[r,n]=h.useState(!1),{refresh:a}=xe(),l=async()=>{n(!0),t?await t():a(),setTimeout(()=>n(!1),600)};return e.jsx(N,{variant:"ghost",size:"icon",className:`h-8 w-8 text-muted-foreground hover:text-primary hover:bg-sidebar-accent/80 transition-all duration-200 group ${s}`,onClick:l,disabled:r,title:"Refresh current page content",children:e.jsx(Ce,{className:`h-4 w-4 transition-transform ${r?"animate-spin":"group-hover:rotate-180"} duration-300`})})}function lt({onClick:t,className:s="",disabled:r}){return e.jsx(N,{variant:"ghost",size:"icon",className:`h-9 w-9 text-muted-foreground hover:text-foreground hover:bg-sidebar-accent transition-all duration-200 ${s}`,onClick:t,disabled:r,title:"Layout Settings",children:e.jsx(Se,{className:"h-[18px] w-[18px]"})})}function it({className:t=""}){const{toggle:s,getEffective:r}=he(),n=h.useMemo(()=>r(),[r]),a=h.useCallback(l=>{l.preventDefault(),l.stopPropagation(),s()},[s]);return e.jsx(N,{variant:"ghost",size:"icon",className:`h-9 w-9 text-muted-foreground hover:text-foreground hover:bg-sidebar-accent transition-all duration-200 ${t}`,onClick:a,title:n==="dark"?"Switch to Light Mode":"Switch to Dark Mode",children:n==="dark"?e.jsx(se,{className:"h-[18px] w-[18px]"}):e.jsx(re,{className:"h-[18px] w-[18px]"})})}function ct({onClick:t,className:s="",disabled:r,disabledClassName:n=""}){return e.jsx(N,{variant:"ghost",size:"icon",className:`h-9 w-9 text-muted-foreground hover:text-foreground hover:bg-sidebar-accent transition-all duration-200 ${r?n:""} ${s}`,onClick:t,disabled:r,title:"Language",children:e.jsx(ke,{className:"h-[18px] w-[18px]"})})}function dt({className:t="",disabled:s,disabledClassName:r=""}){const[n,a]=h.useState(!1),l=()=>{s||typeof document>"u"||(document.fullscreenElement?(document.exitFullscreen(),a(!1)):(document.documentElement.requestFullscreen(),a(!0)))};return e.jsx(N,{variant:"ghost",size:"icon",className:`h-9 w-9 text-muted-foreground hover:text-foreground hover:bg-sidebar-accent transition-all duration-200 ${s?r:""} ${t}`,onClick:l,disabled:s,title:n?"Exit Fullscreen":"Fullscreen",children:n?e.jsx(Ee,{className:"h-[18px] w-[18px]"}):e.jsx(Le,{className:"h-[18px] w-[18px]"})})}function ut({onClick:t,count:s=0,showBadge:r=!0,className:n="",disabled:a,disabledClassName:l=""}){return e.jsxs(N,{variant:"ghost",size:"icon",className:`relative h-9 w-9 text-muted-foreground hover:text-foreground hover:bg-sidebar-accent transition-all duration-200 ${a?l:""} ${n}`,onClick:a?void 0:t,disabled:a,title:"Notifications",children:[e.jsx(Me,{className:"h-[18px] w-[18px]"}),r&&!a&&s>0&&e.jsx("span",{className:"absolute right-2 top-2 h-2 w-2 rounded-full bg-destructive animate-pulse"})]})}function ht({onClick:t,name:s,avatar:r,avatarContent:n,className:a=""}){return e.jsxs(N,{variant:"ghost",className:`h-9 px-2 text-muted-foreground hover:text-foreground hover:bg-sidebar-accent transition-all duration-200 gap-2 ${a}`,onClick:t,title:"User Menu",children:[e.jsx("div",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-primary text-primary-foreground text-xs font-semibold shadow-md overflow-hidden",children:n||(r?e.jsx("img",{src:r,alt:s,className:"h-full w-full object-cover"}):e.jsx(Te,{className:"h-4 w-4"}))}),s&&e.jsx("span",{className:"hidden sm:inline-block text-sm",children:s}),e.jsx(U,{className:"hidden sm:inline-block h-3.5 w-3.5"})]})}function R({initial:t,toolbar:s}){const[r,n]=h.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx(ae,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ot,{}),e.jsxs(S,{children:[e.jsx(k,{asChild:!0,children:e.jsx("div",{children:e.jsx(lt,{onClick:()=>n(!0),disabled:s?.settingsDisabled,className:s?.settingsDisabled?"opacity-50 cursor-not-allowed":""})})}),s?.settingsDisabled&&s?.disabledTooltip&&e.jsx(E,{side:"bottom",children:e.jsx("p",{children:s.disabledTooltip})})]}),e.jsx(it,{}),e.jsxs(S,{children:[e.jsx(k,{asChild:!0,children:e.jsx("div",{children:e.jsx(ct,{className:"hidden sm:inline-flex",disabled:s?.languageDisabled,disabledClassName:s?.languageDisabled?"opacity-50 cursor-not-allowed":""})})}),s?.languageDisabled&&s?.disabledTooltip&&e.jsx(E,{side:"bottom",children:e.jsx("p",{children:s.disabledTooltip})})]}),e.jsxs(S,{children:[e.jsx(k,{asChild:!0,children:e.jsx("div",{children:e.jsx(dt,{className:"hidden lg:inline-flex",disabled:s?.fullscreenDisabled,disabledClassName:s?.fullscreenDisabled?"opacity-50 cursor-not-allowed":""})})}),s?.fullscreenDisabled&&s?.disabledTooltip&&e.jsx(E,{side:"bottom",children:e.jsx("p",{children:s.disabledTooltip})})]}),e.jsxs(S,{children:[e.jsx(k,{asChild:!0,children:e.jsx("div",{children:e.jsx(ut,{className:"hidden sm:inline-flex",disabled:s?.notificationsDisabled,disabledClassName:s?.notificationsDisabled?"opacity-50 cursor-not-allowed":""})})}),s?.notificationsDisabled&&s?.disabledTooltip&&e.jsx(E,{side:"bottom",children:e.jsx("p",{children:s.disabledTooltip})})]}),e.jsx("div",{className:"hidden sm:block w-px h-5 bg-sidebar-border mx-1"}),e.jsx(ht,{})]})}),e.jsx(at,{open:r,onOpenChange:n,initial:t})]})}const fe=h.createContext(null);function Mt(t){const{children:s,menus:r,mode:n,collapsible:a,collapsed:l,name:d,title:o,toolbar:f,showTop:c,viewSlot:x,onMenuClick:u,onCollapse:m,theme:v,persistTheme:p,themeRoot:b,onThemeChange:i,onLayoutChange:y}=t,g=h.useMemo(()=>({menus:r,mode:n||"vertical",collapsible:a??!0,collapsed:l??!1,name:d,title:o,toolbar:f,showTop:c??!0,viewSlot:x,onMenuClick:u,onCollapse:m,onThemeChange:i,onLayoutChange:y}),[r,n,a,l,d,o,f,c,x,u,m,i,y]),j={theme:v,layout:{mode:g.mode,collapsible:g.collapsible,collapsed:g.collapsed}};return e.jsx(Ke,{initial:j,persistTheme:p,themeRoot:b,onThemeChange:i,onLayoutChange:y,children:e.jsx(fe.Provider,{value:g,children:s})})}function pe(){const t=h.useContext(fe);if(!t)throw new Error("useLayoutContext must be used within LayoutProvider");return t}function xt(){const{menus:t}=pe();return t}function K(t){const r=$e().pathname;return{activeItem:h.useMemo(()=>{const d=o=>{for(const f of o){if(f.path&&r===f.path)return f;if(f.children){const c=d(f.children);if(c)return c}}return null};return d(t)},[t,r]),isActive:d=>d.path===r,isParentActive:d=>{if(!d.children)return!1;const o=f=>{for(const c of f)if(c.path===r||c.children&&o(c.children))return!0;return!1};return o(d.children)}}}const mt="modulepreload",ft=function(t){return"/apps/visual-agent/"+t},Z={},pt=function(s,r,n){let a=Promise.resolve();if(r&&r.length>0){let f=function(c){return Promise.all(c.map(x=>Promise.resolve(x).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),o=d?.nonce||d?.getAttribute("nonce");a=f(r.map(c=>{if(c=ft(c),c in Z)return;Z[c]=!0;const x=c.endsWith(".css"),u=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const m=document.createElement("link");if(m.rel=x?"stylesheet":mt,x||(m.as="script"),m.crossOrigin="",m.href=c,o&&m.setAttribute("nonce",o),document.head.appendChild(m),x)return new Promise((v,p)=>{m.addEventListener("load",v),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function l(d){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=d,window.dispatchEvent(o),!o.defaultPrevented)throw d}return a.then(d=>{for(const o of d||[])o.status==="rejected"&&l(o.reason);return s().catch(l)})},ee=new Map;function Y(t){if(!t)return Promise.resolve(null);const s=ee.get(t);if(s)return s;const r=pt(()=>import("./vendor-react-DhQkf-0u.js").then(n=>n.am),__vite__mapDeps([0,1,2])).then(n=>{const a=n?.[t];return a||null}).catch(()=>null);return ee.set(t,r),r}function gt({menuItems:t}){const{isActive:s}=K(t),[r,n]=h.useState(null),[a,l]=h.useState({});h.useEffect(()=>{let o=!1;const f=new Set,c=x=>{x.forEach(u=>{typeof u.icon=="string"&&f.add(u.icon),u.children&&c(u.children)})};return c(t),Promise.all(Array.from(f).map(async x=>{const u=await Y(x);return[x,u]})).then(x=>{o||l(u=>{const m={...u};for(const[v,p]of x)m[v]=p;return m})}),()=>{o=!0}},[t]);const d=o=>{const f=s(o),c=o.children?.length,x=typeof o.icon=="string"?a[o.icon]:o.icon,u=o.path||o.label;if(o.path&&!c)return e.jsxs(L,{to:o.path,className:`flex items-center gap-2 px-4 py-2 rounded-md text-[13px] font-medium transition-all ${f?"bg-accent text-primary":"text-foreground hover:bg-muted hover:text-primary"}`,children:[x&&e.jsx(x,{className:`h-4 w-4 ${f?"text-primary":"text-muted-foreground"}`}),e.jsx("span",{children:o.label})]},u);if(c){const m=r===u,v=o.children?.some(s);return e.jsxs("div",{className:"relative",onMouseEnter:()=>n(u),onMouseLeave:()=>n(null),children:[e.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-md text-[13px] font-medium transition-all cursor-pointer ${v||m?"bg-muted text-foreground":"text-foreground hover:bg-muted hover:text-primary"}`,children:[x&&e.jsx(x,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:o.label}),e.jsx(U,{className:`h-3.5 w-3.5 text-muted-foreground transition-transform ${m?"rotate-180":""}`})]}),m&&e.jsx("div",{className:"absolute left-0 top-full pt-1 z-50 animate-in fade-in-0 zoom-in-95 duration-200",children:e.jsx("div",{className:"bg-popover border border-border rounded-lg shadow-xl py-2 min-w-[180px]",children:o.children?.map(p=>{const b=s(p),i=typeof p.icon=="string"?a[p.icon]:p.icon;return p.path?e.jsxs(L,{to:p.path,className:`flex items-center gap-3 px-4 py-2.5 text-[13px] transition-colors ${b?"bg-accent text-primary":"text-popover-foreground hover:bg-accent hover:text-primary"}`,children:[i&&e.jsx(i,{className:`h-4 w-4 ${b?"text-primary":"text-muted-foreground"}`}),e.jsx("span",{children:p.label})]},p.path):null})})})]},u)}return null};return e.jsx("div",{className:"mx-auto max-w-screen-2xl px-4",children:e.jsx("nav",{className:"flex items-center gap-1 h-12",children:t.map(d)})})}function te({menus:t,logo:s,name:r,showTop:n=!0,children:a}){const{config:l}=C();return console.log(t,"menus"),e.jsx(F,{mode:"header",header:n?e.jsx(V,{logo:s||e.jsx(z,{showText:!0,text:r}),actions:e.jsx(R,{initial:l}),children:e.jsx(gt,{menuItems:t})}):void 0,content:e.jsx(W,{marginLeft:0,showTop:n,children:a})})}function O(...t){return Be(He(t))}const vt={horizontal:{base:"px-4 py-2 text-sm rounded-md transition-colors",active:"bg-primary/10 text-primary font-medium",inactive:"hover:bg-muted/60 text-muted-foreground hover:text-foreground"},vertical:{base:"flex items-center gap-2 px-3 py-2 text-sm rounded-md transition-colors",active:"bg-primary/10 text-primary font-medium",inactive:"hover:bg-muted/60 text-muted-foreground hover:text-foreground"},compact:{base:"flex items-center gap-1.5 px-2 py-1.5 text-xs rounded transition-colors",active:"bg-primary/10 text-primary font-medium",inactive:"hover:bg-muted/60 text-muted-foreground hover:text-foreground"},"icon-only":{base:"flex items-center justify-center p-2 rounded-md transition-colors",active:"bg-primary/10 text-primary",inactive:"hover:bg-muted/60 text-muted-foreground hover:text-foreground"}};function bt({item:t,level:s=0,variant:r="vertical",active:n,hasChildren:a=!1,isExpanded:l=!1,onClick:d}){const[o,f]=h.useState(null);h.useEffect(()=>{let i=!1;return typeof t.icon=="string"?Y(t.icon).then(y=>{i||f(()=>y)}):f(null),()=>{i=!0}},[t.icon]);const c=typeof t.icon=="string"?o:t.icon,x=vt[r],m=!t.path&&a?O("flex items-center gap-2 px-3 py-2 text-sm rounded-md transition-colors","text-sidebar-foreground/70 hover:text-sidebar-foreground cursor-pointer"):O(x.base,n?x.active:x.inactive),v=e.jsxs(e.Fragment,{children:[c&&e.jsx(c,{className:"h-4 w-4 shrink-0"}),r!=="icon-only"&&e.jsx("span",{className:"flex-1",children:t.label}),a&&r!=="icon-only"&&e.jsx(U,{className:O("h-3.5 w-3.5 text-muted-foreground transition-transform duration-200",l&&"rotate-180")})]}),p=r==="vertical"?`${12+s*12}px`:void 0,b=t.path?e.jsx(L,{to:t.path,className:m,style:{paddingLeft:p},onClick:i=>d?.(i),children:v}):e.jsx("div",{className:m,style:{paddingLeft:p},onClick:i=>d?.(i),children:v});return r==="icon-only"&&t.label?e.jsx(ae,{children:e.jsxs(S,{children:[e.jsx(k,{asChild:!0,children:b}),e.jsx(E,{side:"right",children:e.jsx("p",{children:t.label})})]})}):b}function q({items:t,level:s=0,variant:r="vertical",collapsed:n=!1,onSelect:a,onCollapse:l}){const{isActive:d,isParentActive:o}=K(t),[f,c]=h.useState(new Set),[x,u]=h.useState(new Set),m=n?"icon-only":r,v=(p,b)=>p.filter(i=>i.menu!==!1).map(i=>{const y=d(i),g=o(i),j=i.children&&i.children.length>0,w=i.path||i.label,B=x.has(w),H=f.has(w),J=B?H:g||y,ge=!n&&j&&J,ve=Ct=>{j&&(u(_=>new Set(_).add(w)),c(_=>{const M=new Set(_);return M.has(w)?M.delete(w):M.add(w),M})),i.path&&a?.(i.path)};return e.jsxs("div",{className:"space-y-1",children:[e.jsx(bt,{item:i,level:b,variant:m,active:y,hasChildren:j,isExpanded:J,onClick:ve}),ge&&e.jsx("div",{className:"space-y-1",children:v(i.children,b+1)})]},w)});return e.jsx("div",{className:"space-y-1",children:v(t,s)})}function yt({menus:t,collapsible:s=!0,collapsed:r=!1,logo:n,name:a,title:l,toolbar:d,showTop:o=!0,children:f,onSelect:c,onCollapse:x}){const[u,m]=h.useState(r),{config:v}=C();console.log(l,"title");const p=g=>{m(g),x?.(g)},y=u?64:220;return e.jsxs("div",{className:"flex h-screen bg-background",children:[e.jsxs("aside",{className:"absolute left-0 top-0 bottom-0 z-30 border-r border-sidebar-border bg-sidebar overflow-hidden transition-all duration-300 flex flex-col",style:{width:`${y}px`},children:[e.jsx("div",{className:`flex items-center ${u?"justify-center pt-4 pb-2":"px-4 pt-4 pb-2"}`,children:n||e.jsx(z,{showText:!u,text:a})}),e.jsx("div",{className:`flex-1 py-2 overflow-y-auto px-2 ${s?"pb-14":""}`,children:e.jsx(q,{items:t,variant:"vertical",collapsed:u,onSelect:c})}),s&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-sidebar border-t border-sidebar-border",children:e.jsx("div",{className:`flex items-center py-2 ${u?"justify-center":"justify-between px-2"}`,children:e.jsx("button",{onClick:()=>p(!u),className:"flex h-8 w-8 items-center justify-center rounded-md text-muted-foreground hover:text-sidebar-primary hover:bg-sidebar-accent/80 transition-all duration-200 group",title:u?"Expand sidebar":"Collapse sidebar",children:e.jsx(ne,{className:`h-4 w-4 transition-all duration-300 group-hover:scale-110 ${u?"rotate-180":""}`})})})})]}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden transition-all duration-300",style:{marginLeft:`${y}px`},children:[o&&e.jsx("header",{className:"flex-shrink-0 h-14 bg-sidebar border-b border-sidebar-border shadow-sm",children:e.jsxs("div",{className:"flex h-full items-center justify-between px-4 gap-4",children:[e.jsx("div",{className:"min-w-0 flex-1",children:l?e.jsx("span",{className:"block truncate font-semibold text-sidebar-foreground text-[16px]",children:l}):null}),e.jsx("div",{className:"flex flex-shrink-0 items-center",children:e.jsx(R,{initial:v,toolbar:d})})]})}),e.jsx("main",{className:"flex-1 bg-background overflow-y-auto",children:f})]})]})}function jt({menus:t,collapsible:s=!0,collapsed:r=!1,logo:n,name:a,showTop:l=!0,children:d,onSelect:o,onCollapse:f}){const[c,x]=h.useState(r),{config:u}=C(),m=i=>{x(i),f?.(i)},v=220,p=64,b=c?p:v;return e.jsx(F,{mode:"header-vertical",header:l?e.jsx(V,{logo:n||e.jsx(z,{showText:!0,text:a}),actions:e.jsx(R,{initial:u})}):void 0,sidebar:e.jsx(me,{collapsed:c,width:v,collapsedWidth:p,showTop:l,footer:s?e.jsx("div",{className:`flex items-center py-2 ${c?"justify-center":"justify-between px-2"}`,children:e.jsx("button",{onClick:()=>m(!c),className:"flex h-8 w-8 items-center justify-center rounded-md text-muted-foreground hover:text-sidebar-primary hover:bg-sidebar-accent/80 transition-all duration-200 group",title:c?"Expand sidebar":"Collapse sidebar",children:e.jsx(ne,{className:`h-4 w-4 transition-all duration-300 group-hover:scale-110 ${c?"rotate-180":""}`})})}):void 0,children:e.jsx(q,{items:t,variant:"vertical",collapsed:c,onSelect:o})}),content:e.jsx(W,{marginLeft:b,showTop:l,children:d})})}function wt({children:t}){return e.jsx(F,{mode:"fullscreen",children:t})}function Nt({menus:t=[],name:s,logo:r,showTop:n=!0,onSelect:a,children:l}){const{isActive:d,isParentActive:o}=K(t),{config:f}=C(),[c,x]=h.useState(null),[u,m]=h.useState({});h.useEffect(()=>{let i=!1;const y=new Set;return t.forEach(g=>{typeof g.icon=="string"&&y.add(g.icon)}),Promise.all(Array.from(y).map(async g=>{const j=await Y(g);return[g,j]})).then(g=>{i||m(j=>{const w={...j};for(const[B,H]of g)w[B]=H;return w})}),()=>{i=!0}},[t]);const p=c||(()=>{for(const i of t)if(d(i)||o(i))return i;return t[0]||null})(),b=p?.children&&p.children.length>0;return e.jsx(F,{mode:"double-column",header:n?e.jsx(V,{logo:r||e.jsx(z,{showText:!0,text:s}),actions:e.jsx(R,{initial:f})}):void 0,sidebar:e.jsxs(e.Fragment,{children:[e.jsx(me,{collapsed:!0,collapsedWidth:64,width:64,showTop:n,className:"border-r",children:e.jsx("div",{className:"space-y-1",children:t.map(i=>{const y=p?.name===i.name,g=typeof i.icon=="string"?u[i.icon]:i.icon,j=`w-full flex items-center justify-center p-3 rounded-md transition-colors ${y?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-muted/60 hover:text-foreground"}`;return i.path?e.jsx(L,{to:i.path,onClick:w=>{x(i),a?.(i.path,w)},className:j,title:i.label,children:g&&e.jsx(g,{className:"h-5 w-5"})},i.name):e.jsx("button",{onClick:()=>x(i),className:j,title:i.label,children:g&&e.jsx(g,{className:"h-5 w-5"})},i.name)})})}),b&&e.jsx("aside",{className:"absolute left-[64px] bottom-0 z-30 w-[200px] border-r border-sidebar-border bg-sidebar overflow-y-auto",style:{top:n?"56px":"0"},children:e.jsxs("div",{className:"py-4 px-2",children:[e.jsx("div",{className:"mb-3 px-3",children:e.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:p?.label})}),e.jsx(q,{items:p?.children||[],variant:"vertical",onSelect:a})]})})]}),children:e.jsx(W,{marginLeft:b?264:64,showTop:n,children:l})})}function Tt(t){const s=pe(),r=xt(),{mode:n}=C();xe();const a=De(),l=t?.mode||n,d=t?.viewSlot||s.viewSlot,o=t?.onMenuClick||s.onMenuClick,f=h.useCallback((m,v)=>{const p=(i,y)=>{for(const g of i){if(g.path===y)return g;if(g.children){const j=p(g.children,y);if(j)return j}}return null},b=p(r,m);if(b){const i={label:b.label,path:b.path,icon:b.icon,meta:b.meta};if(o&&v&&o(i,v)===!1)return;a(m)}},[r,o,a]),c={menus:r,mode:l,collapsible:t?.collapsible,collapsed:t?.collapsed,logo:t?.logo,user:t?.user,name:t?.name||s.name,title:t?.title??s.title,toolbar:t?.toolbar??s.toolbar,showTop:t?.showTop??s.showTop,onSelect:f,onCollapse:t?.onCollapse||s.onCollapse},x=d?e.jsx(d,{components:{},renderDefault:()=>e.jsx(X,{})}):e.jsx(X,{}),u={vertical:yt,"header-vertical":jt,fullscreen:wt,header:te,"double-column":Nt}[l]||te;return e.jsx(u,{...c,children:x})}export{Tt as A,Mt as L,pt as _,he as u};
