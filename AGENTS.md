# 代码与命名规范

## 一、设计原则
- 模块化设计，高内聚、低耦合
- 采用微内核架构，核心稳定、能力可插拔
- 逻辑抽象优先，禁止重复代码
- 设计模式为解决问题服务，避免过度设计

---

## 二、模块与结构
- 模块按业务或职责拆分
- 模块只通过接口通信，禁止跨层调用
- 核心模块不依赖业务扩展模块
- 公共能力统一下沉复用

---

## 三、命名规范（强制）

### 1. 基本规则
- 非必要始终 1 个单词，最多 2 个单词
- 尽可能使用完整英文单词
- 命名需做到见名知意
- 超过 2 个单词必须重新抽象

### 2. 禁止规则
- 禁止缩写、拼音、个人习惯命名
- 禁止无语义名称：`data`、`info`、`temp`、`obj`
- 禁止行为模糊词：`handle`、`process`、`do`

### 3. 具体约定
- 类 / 模块：名词（PascalCase）
  - `User`、`OrderService`
- 方法 / 函数：动词 或 动词 + 名词（camelCase）
  - `createOrder`、`validateToken`
- 变量：名词（camelCase）
  - `user`、`orderList`
- 常量：全大写 + 下划线
  - `MAX_RETRY_COUNT`
- 布尔值：肯定语义
  - `isValid`、`hasPermission`

---

## 四、代码约束
- 单一职责，一个函数只做一件事
- 函数不超过 50 行
- 嵌套层级不超过 3 层
- 边界与异常必须显式处理
- 严格的安全类型检查，禁止类型转换错误

---

## 五、评审标准
代码必须满足：
- 命名不需注释即可理解
- 可扩展而无需修改核心逻辑
- 可复用而非复制
- 新代码强制遵循本规范

---

## 六、核心方法注释（强制）

### 1. 定义
核心方法包括但不限于：
- 对外暴露的公共 API（export 的函数/类方法）
- 模块边界入口方法（适配层入口、服务入口、命令入口、解析入口等）
- 关键业务规则/关键算法实现方法
- 有副作用的方法（I/O、网络、存储、文件系统、环境读写）

### 2. 要求
- 核心方法必须编写符合 JSDoc 规范的注释
- 注释必须说明：方法意图、关键约束、边界条件、失败模式
- 必须完整标注类型与契约：
  - `@param`：每个参数都要写清含义与约束
  - `@returns`：返回值含义与约束
  - `@throws`：可能抛出的错误与触发条件（若有）
  - `@example`：对外 API 建议提供至少 1 个可运行的调用示例

---

> 命名即设计，规范即边界

